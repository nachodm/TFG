{"version":3,"file":"dhtmlxscheduler_year_view.js","sources":["dhtmlxscheduler_year_view.js"],"names":["scheduler","config","year_x","year_y","xy","year_top","templates","year_date","date","date_to_str","locale","labels","year_tab","year_month","year_scale_date","year_tooltip","s","e","ev","text","is_year_mode","_mode","dblclick_dhx_month_head","t","target","srcElement","className","_getClassName","parentNode","indexOf","monthNode","hasAttribute","start","this","xml_date","getAttribute","setDate","parseInt","innerHTML","end","add","readonly","dblclick_create","addEventNow","valueOf","chid","changeEventId","apply","arguments","year_view","old","render_data","to_attr","from_attr","str_to_date","evs","i","length","_year_render_event","clear","clear_view","dates","_year_marked_cells","div","hasOwnProperty","removeAttribute","_hideToolTip","_tooltip","style","display","Date","_showToolTip","pos","src","document","createElement","body","appendChild","onclick","_click","dhx_cal_data","getEvents","html","filter_event","id","bg_color","color","textColor","_timed","event_date","start_date","end_date","top","offsetWidth","left","offsetHeight","_year_view_tooltip_handler","event","tagName","toLowerCase","$domHelpers","getOffset","_init_year_tooltip","_detachDomEvent","_els","dhtmlxEvent","_get_year_cell","d","m","getMonth","getFullYear","_min_date","week_starts","_month","yearBox","childNodes","dayIndex","getDate","row","querySelectorAll","Math","floor","cell","querySelector","_mark_year_date","c","ev_class","event_class","setAttribute","_unmark_year_date","date_part","_max_date","mode","temp","scale_height","set_sizes","_table_view","_load_mode","_load","_reset_year_scale","_render_wait","render_view_data","_cols","_colsS","b","scrollTop","dx","width","dy","height","scroll_width","summ","week_template","dummy_date","week_start","_currentDate","_process_ignores","scales_count","_ignores_detected","real_count","_ignores","_render_x_header","lastChild","_waiAria","yearHeadCell","sd","copy","_date","ssd","j","cssText","xml_format","header","grid","weekHeader","headerId","uid","yearHeader","yearGrid","dd","days","_reset_month_scale","day","yearDayCell","dt","round","marginTop","set_xy","getDay","start_on_monday","getActionData","n_ev","trg","_get_year_month_date","_get_year_month_cell","_get_year_day_indexes","week","section","targetCell","month","_get_year_el_node","_locate_year_month_table","weeks","rows","w","getElementsByTagName","node","_locate_year_month_root","month_start","_locate_year_month_day","n","locateEvent","_locate_event","dat","_locate_year_month_cell","nodeName","_get_year_month_table","_get_year_month_root","condition"],"mappings":"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"}